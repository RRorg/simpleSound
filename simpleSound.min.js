var simpleSound=new function(){this.e="",this.c=void 0,this.b={},this.i=[],this.p=[],this.t=0,this.l={},this.la=function(e){var n=new XMLHttpRequest;n.open("GET",e+this.e,!0),n.responseType="arraybuffer",n.onload=function(){simpleSound.c.decodeAudioData(n.response,function(n){for(simpleSound.b[e]=n,simpleSound.i.push(e),i=0;i<simpleSound.p.length;i++)simpleSound.p[i]==e&&(simpleSound.play(e),simpleSound.p.splice(i--,1))},function(e){console.log("[simpleSound] Error on file load: "+e)})},n.send()},this.pa=function(e){if(void 0===simpleSound.b[e])return void simpleSound.p.push(e);var n=simpleSound.c.createBufferSource();n.buffer=simpleSound.b[e],n.connect(simpleSound.c.destination),"function"==typeof n.noteOn?n.noteOn(0):n.start()},this.initAPI=function(){if(0!=simpleSound.i.length)for(i=0;i<simpleSound.i.length;i++){var e=simpleSound.b[simpleSound.i[i]];if(void 0!==e){var n=simpleSound.c.createBufferSource(),t=simpleSound.c.createGain();t.gain.value=0,n.buffer=e,n.connect(t),t.connect(simpleSound.c.destination),"function"==typeof n.noteOn?n.noteOn(0):n.start(),simpleSound.i.splice(i--,1)}}},this.lt=function(e){var n="simpleSound_"+simpleSound.t++;simpleSound.l[e]=n;var t='<audio id="'+n+'" preload="auto" autobuffer>';t+='<source src="'+e+'.ogg" type="audio/ogg" />',t+='<source src="'+e+'.mp3" type="audio/mpeg" />',t+="</audio>",document.body.innerHTML+=t},this.pt=function(e){if("undefined"!==simpleSound.l[e]){var n=document.getElementById(simpleSound.l[e]).cloneNode(!0);n.id="simpleSound_clone_"+simpleSound.t++,document.body.appendChild(n),setTimeout(function(){document.getElementById(n.id).play(),setTimeout(function(){document.body.removeChild(document.getElementById(n.id)),delete n},1e3*n.duration)},10)}},"undefined"!=typeof AudioContext?(this.load=this.la,this.play=this.pa,this.c=new AudioContext,document.addEventListener("touchstart",function(){simpleSound.initAPI()})):(this.load=this.lt,this.play=this.pt);var e=document.createElement("audio");this.e=e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,"")?".mp3":".ogg",delete e};